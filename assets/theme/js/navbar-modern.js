function updateOnlineUsers(){document.getElementById("online-users")}function showChatNotification(){const e=document.getElementById("chat-badge");e&&(e.style.display="flex")}function closeAllDrawers(){const e=document.getElementById("favoritesDrawer");e&&!e.classList.contains("hidden")&&e.classList.add("hidden");const t=document.getElementById("recentGamesDrawer");t&&!t.classList.contains("hidden")&&t.classList.add("hidden");const n=document.getElementById("online-users-dropdown");n&&"block"===n.style.display&&(n.style.display="none")}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".navbar-mobile-toggle"),t=document.querySelector(".navbar-search"),n=document.getElementById("chat-button"),o=document.getElementById("chat-badge"),s=document.querySelector(".navbar-modern"),c=document.getElementById("theme-toggle-btn"),d=document.getElementById("theme-icon-sun"),a=document.getElementById("theme-icon-moon");document.querySelectorAll(".nav-action-btn").forEach(e=>{e.addEventListener("click",function(e){const t=document.createElement("span"),n=this.getBoundingClientRect(),o=Math.max(n.width,n.height),s=e.clientX-n.left-o/2,c=e.clientY-n.top-o/2;t.style.width=t.style.height=o+"px",t.style.left=s+"px",t.style.top=c+"px",t.classList.add("ripple"),this.appendChild(t),setTimeout(()=>t.remove(),600)},!1)}),e&&e.addEventListener("click",function(){t&&(t.style.display="none"===t.style.display?"block":"none",t.style.animation="slideDown 0.3s ease-out")}),document.addEventListener("click",function(e){!e.target.closest(".navbar-modern")&&t&&window.innerWidth<=768&&(t.style.display="none")}),window.addEventListener("resize",function(){window.innerWidth>768&&t&&(t.style.display="block")});const i=document.querySelector(".search-input-wrapper input");function updateThemeIcons(e){"dark"===e?(d.style.display="none",a.style.display="block"):(d.style.display="block",a.style.display="none")}i&&(i.addEventListener("focus",function(){this.parentElement.style.boxShadow="0 0 30px rgba(98, 77, 227, 0.3)"}),i.addEventListener("blur",function(){this.parentElement.style.boxShadow=""}),setTimeout(()=>i.focus(),300)),n&&n.addEventListener("click",function(){o&&"none"!==o.style.display&&(o.style.animation="fadeOut 0.3s ease-out forwards",setTimeout(()=>{o.style.display="none",o.style.animation=""},300))});const l=localStorage.getItem("theme")||"dark";document.documentElement.setAttribute("data-theme",l),updateThemeIcons(l),c&&c.addEventListener("click",function toggleTheme(){const e=document.documentElement,t="dark"===(e.getAttribute("data-theme")||"dark")?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t),updateThemeIcons(t)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");"#"!==t&&document.querySelector(t)&&(e.preventDefault(),document.querySelector(t).scrollIntoView({behavior:"smooth"}))})}),window.addEventListener("scroll",function(){let e=window.pageYOffset||document.documentElement.scrollTop;s.style.boxShadow=e>100?"0 8px 32px rgba(98, 77, 227, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.05)":"0 8px 32px rgba(98, 77, 227, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.05)"})}),updateOnlineUsers(),setInterval(updateOnlineUsers,3e4),window.closeAllDrawers=closeAllDrawers,document.addEventListener("DOMContentLoaded",function(){const e=window.location.pathname;document.querySelectorAll(".sidebar-item").forEach(t=>{const n=t.getAttribute("href");n&&e.includes(n)&&t.classList.add("active")})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("mobileSearchToggle"),t=document.getElementById("navbarSearch"),n=document.getElementById("searchCloseBtn"),o=document.getElementById("search");e&&t&&n&&(e.addEventListener("click",function(){t.classList.add("active"),setTimeout(()=>o.focus(),300)}),n.addEventListener("click",function(){t.classList.remove("active"),o.value=""}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("active")&&(t.classList.remove("active"),o.value="")}),document.addEventListener("click",function(n){!t.classList.contains("active")||t.contains(n.target)||e.contains(n.target)||t.classList.remove("active")}))});