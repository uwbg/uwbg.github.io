var elem=document.getElementsByClassName("game-iframe")[0];function openFullscreen(){elem.requestFullscreen?elem.requestFullscreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()}const frame=document.getElementsByClassName("game-iframe")[0],server1Url=frame.getAttribute("data-src");console.log("Iframe data-src:",server1Url);const urlParts=server1Url.split("/"),server1BaseUrl=urlParts.slice(0,3).join("/");function getSlugFromUrl(e){let r=e.split("/").filter(Boolean);return r[r.length-1].replace(".html","")}const gameSlug=getSlugFromUrl(server1Url);console.log("Slug bulundu:",gameSlug);let servers=[{name:"1",baseUrl:server1BaseUrl,direct:!1},{name:"2",baseUrl:"https://unblockedgames67.gitlab.io",direct:!1},{name:"3",baseUrl:"https://unblockedgames66.gitlab.io",direct:!1},{name:"4",baseUrl:"https://ubgwtf.gitlab.io",direct:!1}];function switchServer(e){let r=servers[e],t=r.direct?r.baseUrl:r.baseUrl+"/"+urlParts.slice(3).join("/");console.log("Switching to:",t),frame.src=t,document.querySelectorAll(".server-btn").forEach((r,t)=>{r.classList.toggle("active",t===e)})}function createServerButtons(){let e=document.getElementById("server-buttons");e.innerHTML="",servers.forEach((r,t)=>{let l=document.createElement("button");l.innerText=r.name,l.classList.add("btn","server-btn"),r.direct&&l.classList.add("json-server"),l.onclick=()=>switchServer(t),e.appendChild(l)})}async function loadGameData(){try{console.log("JSON yükleniyor...");const e=await fetch("/data-json/games.json?v=2.0.138"),r=await e.json();console.log("JSON yüklendi:",r.length,"oyun bulundu.");const t=r.find(e=>e.slug===gameSlug);console.log("Bulunan oyun:",t);let l=null;if(t&&t.servers){let e=servers.length+1;for(let r in t.servers){let s=t.servers[r].replace(/\/$/,"");servers.push({name:String(e),baseUrl:s,direct:!0}),console.log("Yeni server eklendi:",s),null===l&&(l=servers.length-1),e++}}createServerButtons(),switchServer(null!==l?l:0)}catch(e){console.error("JSON yüklenemedi:",e),createServerButtons(),switchServer(0)}}document.addEventListener("DOMContentLoaded",loadGameData),document.addEventListener("DOMContentLoaded",()=>{"function"==typeof crayzgames&&setTimeout(()=>crayzgames(),2500*Math.random())});