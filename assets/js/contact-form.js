window.contactFormLoadTime=(new Date).toISOString(),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("contactForm"),t=document.getElementById("contactSubmitButton"),o=document.getElementById("contactSubmitButtonText"),n=document.getElementById("contactSubmitButtonSpinner"),s=document.getElementById("contactResponseMessage"),r=document.getElementById("message"),a=document.getElementById("messageCount");t.disabled=!0,setTimeout(()=>{t.disabled=!1},2e3),r.addEventListener("input",function(){a.textContent=this.value.length});const i=document.getElementById("requestType"),l=r.closest(".form-group"),c=document.createElement("div");function showMessage(e,t){s.textContent=e,s.style.display="block","success"===t?(s.style.backgroundColor="rgba(28, 189, 100, 0.1)",s.style.border="1px solid rgba(28, 189, 100, 0.3)",s.style.color="var(--bs-success)"):(s.style.backgroundColor="rgba(223, 50, 92, 0.1)",s.style.border="1px solid rgba(223, 50, 92, 0.3)",s.style.color="var(--bs-danger)"),s.scrollIntoView({behavior:"smooth",block:"nearest"})}c.className="alert alert-warning",c.style.cssText="background-color: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 8px; padding: 15px; margin-bottom: 20px; display: none;",c.innerHTML='\n    <h6 style="color: #f57c00; margin-bottom: 10px; font-weight: 600;">‚ö†Ô∏è Copyright / DMCA Request</h6>\n    <p style="margin-bottom: 8px; font-size: 14px;">\n      For copyright or DMCA-related requests, please contact us directly via email instead of using this form:\n    </p>\n    <p style="margin-bottom: 8px; font-size: 14px;">\n      üìß <a href="mailto:cricoverteam@gmail.com" style="color: #f57c00; text-decoration: none; font-weight: 600;">cricoverteam@gmail.com</a>\n    </p>\n    <p style="margin-bottom: 0; font-size: 13px; color: var(--bs-gray-700);">\n      <strong>Important:</strong> Please use your official email address and include:\n    </p>\n    <ul style="font-size: 13px; margin-top: 8px; margin-bottom: 0;">\n      <li>Your contact information and proof of ownership</li>\n      <li>Detailed description of the copyrighted content</li>\n      <li>URL(s) of the content in question</li>\n      <li>A statement of good faith belief</li>\n    </ul>\n    <p style="margin-top: 10px; margin-bottom: 0; font-size: 13px; color: var(--bs-gray-700);">\n      We will process your request within 24-48 hours.\n    </p>\n  ',l.parentNode.insertBefore(c,l),i.addEventListener("change",function(){"copyright"===this.value?(l.style.display="none",c.style.display="block",r.removeAttribute("required"),t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed"):(l.style.display="block",c.style.display="none",r.setAttribute("required","required"),t.disabled=!1,t.style.opacity="1",t.style.cursor="pointer")}),e.addEventListener("submit",function(r){if(r.preventDefault(),!e.checkValidity())return void e.reportValidity();const i={name:document.getElementById("contactName").value.trim(),email:document.getElementById("contactEmail").value.trim(),requestType:document.getElementById("requestType").value,message:document.getElementById("message").value.trim(),timestamp:(new Date).toISOString(),formLoadTime:window.contactFormLoadTime||(new Date).toISOString(),website:""};t.disabled=!0,o.style.display="none",n.style.display="inline-block",s.style.display="none";fetch("https://user.ucbg.online/contact-api/contact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(t=>{showMessage(t.message||"Thank you for contacting us! We have received your message and will get back to you soon.","success"),e.reset(),a.textContent="0"}).catch(e=>{console.error("Error:",e),e.message&&e.message.includes("429")?showMessage("You've sent too many messages. Please wait before trying again.","error"):showMessage("An error occurred while sending your message. Please try again later or contact us directly at cricoverteam@gmail.com","error")}).finally(()=>{t.disabled=!1,o.style.display="inline-block",n.style.display="none"})})});