!function(){"use strict";let t=[],e=[],n=new Map,o=!1;function initCategoryCarousel(){const e=document.querySelector(".custom-category-group");if(!e)return;const n=Array.from(e.querySelectorAll(".custom-category-link"));t=n.map(t=>({html:t.outerHTML,element:t})),0!==t.length&&(updateVisibleCategories(),window.addEventListener("resize",function debounce(t,e){let n;return function executedFunction(...o){const later=()=>{clearTimeout(n),t(...o)};clearTimeout(n),n=setTimeout(later,e)}}(updateVisibleCategories,250)),startRandomRotation())}function updateVisibleCategories(){const n=document.querySelector(".custom-category-group");if(!n)return;const o=function calculateMaxItems(t){const e=140,n=Math.floor(t/e);return Math.max(4,Math.min(n,10))}(n.offsetWidth);n.innerHTML="",e=[];[...t].sort(()=>Math.random()-.5).slice(0,o).forEach((t,o)=>{const a=document.createElement("div");a.innerHTML=t.html;const r=a.firstElementChild;r.style.animationDelay=.1*o+"s",r.dataset.buttonIndex=o,n.appendChild(r),e.push(r)})}function scheduleButtonRotation(a){n.has(a)&&clearTimeout(n.get(a));const r=8e3*Math.random()+12e3,i=setTimeout(()=>{!function rotateButton(n){if(o)return;const a=e[n];a&&(a.classList.add("fade-out"),setTimeout(()=>{const o=e.map(t=>t.textContent.trim()),r=t.filter(t=>{const e=document.createElement("div");e.innerHTML=t.html;const n=e.textContent.trim();return!o.includes(n)}),i=r.length>0?r[Math.floor(Math.random()*r.length)]:t[Math.floor(Math.random()*t.length)],c=document.createElement("div");c.innerHTML=i.html;const u=c.firstElementChild;u.dataset.buttonIndex=n,a.replaceWith(u),e[n]=u,scheduleButtonRotation(n)},700))}(a)},r);n.set(a,i)}function startRandomRotation(){e.forEach((t,e)=>{scheduleButtonRotation(e)})}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".custom-category-group");t&&(t.addEventListener("mouseenter",()=>{o=!0,function stopRandomRotation(){n.forEach(t=>clearTimeout(t)),n.clear()}()}),t.addEventListener("mouseleave",()=>{o=!1,startRandomRotation()}))}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initCategoryCarousel):initCategoryCarousel()}();